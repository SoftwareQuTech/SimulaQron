
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Distributing a graph state &#8212; SimulaQron 1.0 documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Programming via the Classical-Quantum Combiner Interface" href="ExamplesNodeOS.html" />
    <link rel="prev" title="Teleporting a Qubit" href="NativeModeTeleport.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ExamplesNodeOS.html" title="Programming via the Classical-Quantum Combiner Interface"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="NativeModeTeleport.html" title="Teleporting a Qubit"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">SimulaQron 1.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="Examples.html" >Examples</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="ExamplesDirect.html" accesskey="U">Programming via SimulaQron’s native Python Twisted Interface (specific to SimulaQron)</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Distributing a graph state</a><ul>
<li><a class="reference internal" href="#an-overview">An overview</a></li>
<li><a class="reference internal" href="#the-protocol">The protocol</a></li>
<li><a class="reference internal" href="#setting-up">Setting up</a></li>
<li><a class="reference internal" href="#programming-alice">Programming Alice</a></li>
<li><a class="reference internal" href="#programming-bob">Programming Bob</a></li>
<li><a class="reference internal" href="#programming-charlie">Programming Charlie</a></li>
<li><a class="reference internal" href="#programming-david">Programming David</a></li>
<li><a class="reference internal" href="#starting">Starting</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="NativeModeTeleport.html"
                        title="previous chapter">Teleporting a Qubit</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ExamplesNodeOS.html"
                        title="next chapter">Programming via the Classical-Quantum Combiner Interface</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/NativeModeGraphState.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="distributing-a-graph-state">
<h1>Distributing a graph state<a class="headerlink" href="#distributing-a-graph-state" title="Permalink to this headline">¶</a></h1>
<p>Here we consider a more complicated example, where we have four parties; Alice, Bob, Charlie and David.
They will distribute a graph state and transform this with local operations and classical communication to make a GHZ-like state.
Finally they measure their qubits in the correct bases to achieved correlated outcomes.
(Note that this is not a efficient way to distribute a GHZ-state but an example illustrating how to use SimulaQron)</p>
<div class="section" id="an-overview">
<h2>An overview<a class="headerlink" href="#an-overview" title="Permalink to this headline">¶</a></h2>
<p>We will first give the main idea of the protocol by describing the evolution of the graph describing the graph state shared by the parties.
The actual order of the operations performed will be different in the actual implementation and is described below.
For more information on definition of graph states and their transformation under local operations see <a class="reference external" href="https://arxiv.org/abs/quant-ph/0602096">https://arxiv.org/abs/quant-ph/0602096</a>.</p>
<p>A graph state described by a star graph is a GHZ-state up to Hadamard operations on the qubits which are the leaves of the graph.
The parties will therefore transform the shared state to make a star graph.
Alice, Bob, Charlie and David generate a graph state <span class="math notranslate nohighlight">\(|P_4\rangle\)</span>, i.e. a graph state described by a path graph on four vertices, where Alice and David are the ends of the path.
The edge-set of this graph is</p>
<div class="math notranslate nohighlight">
\[\{(A,B),(B,C),(C,D)\}\]</div>
<p>where <span class="math notranslate nohighlight">\(A\)</span>, <span class="math notranslate nohighlight">\(B\)</span>, <span class="math notranslate nohighlight">\(C\)</span> and <span class="math notranslate nohighlight">\(D\)</span> are the vertices corresponding to the parties Alice, Bob, Charlie and David, respectively.
Local Clifford operations are performed at <span class="math notranslate nohighlight">\(B\)</span>, <span class="math notranslate nohighlight">\(C\)</span> and <span class="math notranslate nohighlight">\(D\)</span> which induces a graph operation called a local complementation at <span class="math notranslate nohighlight">\(C\)</span> and therefore adds the edge <span class="math notranslate nohighlight">\((B,D)\)</span> to the graph.
The graph is now a star graph with an additional edge <span class="math notranslate nohighlight">\((C,D)\)</span>.
This edge will be removed by the use of an additional qubit <span class="math notranslate nohighlight">\(E\)</span> generated by David.
David will entangle his qubit <span class="math notranslate nohighlight">\(D\)</span> with this new qubit and therefore adding the edge <span class="math notranslate nohighlight">\((D,E)\)</span> to the graph.
Qubit <span class="math notranslate nohighlight">\(E\)</span> is then sent to Charlie which also entangles this with his qubit.
The edge-set is then</p>
<div class="math notranslate nohighlight">
\[\{(A,B),(B,C),(C,D),(B,D),(D,E),(C,E)(\}\]</div>
<p>Local Cliffords are performed at <span class="math notranslate nohighlight">\(C\)</span>, <span class="math notranslate nohighlight">\(D\)</span> and <span class="math notranslate nohighlight">\(E\)</span> which induces a local complementation at <span class="math notranslate nohighlight">\(E\)</span> and therefore removes the edge <span class="math notranslate nohighlight">\((C,D)\)</span>.
Finally qubit <span class="math notranslate nohighlight">\(E\)</span> is measured in the standard basis to disconnect is from the rest of the graph state.
Depending on the measurement outcome, corrections are performed at <span class="math notranslate nohighlight">\(C\)</span> and <span class="math notranslate nohighlight">\(D\)</span>.</p>
</div>
<div class="section" id="the-protocol">
<h2>The protocol<a class="headerlink" href="#the-protocol" title="Permalink to this headline">¶</a></h2>
<p>We now describe the operations performed in the protocol, which effectively induces the graph operations described above.
Although the order described here is slightly different the end result is still the same, since local operations commute.</p>
<ul>
<li><p class="first">Alice performs the following operations.</p>
<blockquote>
<div><ol class="arabic simple">
<li>Alice prepares two qubits in the state <span class="math notranslate nohighlight">\(|+\rangle_A |+\rangle_B\)</span>.</li>
<li>Alice performs a CPHASE operation between <span class="math notranslate nohighlight">\(A\)</span> and <span class="math notranslate nohighlight">\(B\)</span>.</li>
<li>Alice sends <span class="math notranslate nohighlight">\(B\)</span> to Bob.</li>
<li>Alice measures qubit <span class="math notranslate nohighlight">\(A\)</span> in the <span class="math notranslate nohighlight">\(X\)</span>-basis.</li>
</ol>
</div></blockquote>
</li>
<li><p class="first">Bob performs the following operations.</p>
<blockquote>
<div><ol class="arabic simple">
<li>Bob receives qubit <span class="math notranslate nohighlight">\(B\)</span> from Alice.</li>
<li>Bob prepares a qubit in the state <span class="math notranslate nohighlight">\(|+\rangle_C\)</span>.</li>
<li>Bob performs a CPHASE operation between <span class="math notranslate nohighlight">\(B\)</span> and <span class="math notranslate nohighlight">\(C\)</span>.</li>
<li>Bob performs the operation <span class="math notranslate nohighlight">\(\exp(\frac{\mathrm{i}\pi}{4}Z)\)</span> on <span class="math notranslate nohighlight">\(B\)</span> (one of the operations to induced a local complementation at <span class="math notranslate nohighlight">\(C\)</span>).</li>
<li>Bob sends <span class="math notranslate nohighlight">\(C\)</span> to Charlie.</li>
<li>Bob measures qubit <span class="math notranslate nohighlight">\(B\)</span> in the <span class="math notranslate nohighlight">\(Z\)</span>-basis.</li>
</ol>
</div></blockquote>
</li>
<li><p class="first">Charlie performs the following operations</p>
<blockquote>
<div><ol class="arabic simple">
<li>Charlie receives qubit <span class="math notranslate nohighlight">\(C\)</span> from Bob</li>
<li>Charlie prepares a qubit in the state <span class="math notranslate nohighlight">\(|+\rangle_D\)</span></li>
<li>Charlie performs a CPHASE operation between <span class="math notranslate nohighlight">\(C\)</span> and <span class="math notranslate nohighlight">\(D\)</span>.</li>
<li>Charlie performs the operations <span class="math notranslate nohighlight">\(\exp(-\frac{\mathrm{i}\pi}{4}X)\)</span> and <span class="math notranslate nohighlight">\(\exp(\frac{\mathrm{i}\pi}{4}Z)\)</span> on <span class="math notranslate nohighlight">\(C\)</span> and <span class="math notranslate nohighlight">\(D\)</span>, respectively (two of the operations to induced a local complementation at <span class="math notranslate nohighlight">\(C\)</span>).</li>
<li>Charlie sends <span class="math notranslate nohighlight">\(D\)</span> to David.</li>
<li>Charlie receives qubit <span class="math notranslate nohighlight">\(E\)</span> from David</li>
<li>Charlie performs a CPHASE operation between <span class="math notranslate nohighlight">\(E\)</span> and <span class="math notranslate nohighlight">\(C\)</span>.</li>
<li>Charlie performs the operations <span class="math notranslate nohighlight">\(\exp(-\frac{\mathrm{i}\pi}{4}X)\)</span> and <span class="math notranslate nohighlight">\(\exp(\frac{\mathrm{i}\pi}{4}Z)\)</span> on <span class="math notranslate nohighlight">\(E\)</span> and <span class="math notranslate nohighlight">\(C\)</span>, respectively (two of the operations to induced a local complementation at <span class="math notranslate nohighlight">\(E\)</span>).</li>
<li>Charlie measures qubit <span class="math notranslate nohighlight">\(E\)</span> in the <span class="math notranslate nohighlight">\(Z\)</span>-basis.</li>
<li>Charlie performs a <span class="math notranslate nohighlight">\(Z\)</span>-operation on <span class="math notranslate nohighlight">\(C\)</span> if the measurement outcome is <span class="math notranslate nohighlight">\(1\)</span> and does nothing if it is <span class="math notranslate nohighlight">\(0\)</span>.</li>
<li>Charlie sends the measurement outcome to David.</li>
<li>Charlie measures qubit <span class="math notranslate nohighlight">\(C\)</span> in the <span class="math notranslate nohighlight">\(X\)</span>-basis.</li>
</ol>
</div></blockquote>
</li>
<li><p class="first">David performs the following operations</p>
<blockquote>
<div><ol class="arabic simple">
<li>David receives qubit <span class="math notranslate nohighlight">\(D\)</span> from Charlie</li>
<li>David prepares a qubit in the state <span class="math notranslate nohighlight">\(|+\rangle_E\)</span></li>
<li>David performs a CPHASE operation between <span class="math notranslate nohighlight">\(D\)</span> and <span class="math notranslate nohighlight">\(E\)</span> and sends <span class="math notranslate nohighlight">\(E\)</span> to Bob.</li>
<li>David performs the operation <span class="math notranslate nohighlight">\(\exp(\frac{\mathrm{i}\pi}{4}Z)\)</span> on <span class="math notranslate nohighlight">\(D\)</span> (one of the operations to induced a local complementation at <span class="math notranslate nohighlight">\(E\)</span>).</li>
<li>David receives the measurement outcome from Charlie and performs a <span class="math notranslate nohighlight">\(Z\)</span>-operation on <span class="math notranslate nohighlight">\(D\)</span> if this is <span class="math notranslate nohighlight">\(1\)</span> and nothing if it is <span class="math notranslate nohighlight">\(0\)</span>.</li>
<li>David measures qubit <span class="math notranslate nohighlight">\(D\)</span> in the <span class="math notranslate nohighlight">\(X\)</span>-basis.</li>
</ol>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="setting-up">
<h2>Setting up<a class="headerlink" href="#setting-up" title="Permalink to this headline">¶</a></h2>
<p>We will run everything locally (localhost) using the standard virtualNodes.cfg file found in config that define the virtual quantum nodes run in the background to simulate the quantum hardware:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Network configuration file</span>
<span class="c1">#</span>
<span class="c1"># For each host its informal name, as well as its location in the network must</span>
<span class="c1"># be listed.</span>
<span class="c1">#</span>
<span class="c1"># [name], [hostname], [port number]</span>

<span class="n">Alice</span><span class="p">,</span> <span class="n">localhost</span><span class="p">,</span> <span class="mi">8801</span>
<span class="n">Bob</span><span class="p">,</span> <span class="n">localhost</span><span class="p">,</span> <span class="mi">8802</span>
<span class="n">Charlie</span><span class="p">,</span> <span class="n">localhost</span><span class="p">,</span> <span class="mi">8803</span>
<span class="n">David</span><span class="p">,</span> <span class="n">localhost</span><span class="p">,</span> <span class="mi">8804</span>
</pre></div>
</div>
<p>As we can see from the proocol above, Alice is the one that initializes the protocol and the others listen. We will therefore run a client at Alice and servers at Bob, Charlie and David. Since we run everything locally, we may thus use for the configuration file classicalNet.cfg:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Network configuration file</span>
<span class="c1">#</span>
<span class="c1"># For each host its informal name, as well as its location in the network must</span>
<span class="c1"># be listed.</span>
<span class="c1">#</span>
<span class="c1"># [name], [hostname], [port number]</span>
<span class="c1">#</span>

<span class="n">Bob</span><span class="p">,</span> <span class="n">localhost</span><span class="p">,</span> <span class="mi">8812</span>
<span class="n">Charlie</span><span class="p">,</span> <span class="n">localhost</span><span class="p">,</span> <span class="mi">8813</span>
<span class="n">David</span><span class="p">,</span> <span class="n">localhost</span><span class="p">,</span> <span class="mi">8814</span>
</pre></div>
</div>
<p>Let us now provide the actual program code for all the parties.</p>
</div>
<div class="section" id="programming-alice">
<h2>Programming Alice<a class="headerlink" href="#programming-alice" title="Permalink to this headline">¶</a></h2>
<p>Since Alice acts as a client, we will only need to fill in runClientNode. This gives:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#####################################################################################################</span>
<span class="c1">#</span>
<span class="c1"># runClientNode</span>
<span class="c1">#</span>
<span class="c1"># This will be run on the local node if all communication links are set up (to the virtual node</span>
<span class="c1"># quantum backend, as well as the nodes in the classical communication network), and the local classical</span>
<span class="c1"># communication server is running (if applicable).</span>
<span class="c1">#</span>
<span class="nd">@inlineCallbacks</span>
<span class="k">def</span> <span class="nf">runClientNode</span><span class="p">(</span><span class="n">qReg</span><span class="p">,</span> <span class="n">virtRoot</span><span class="p">,</span> <span class="n">myName</span><span class="p">,</span> <span class="n">classicalNet</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Code to execute for the local client node. Called if all connections are established.</span>

<span class="sd">        Arguments</span>
<span class="sd">        qReg            quantum register (twisted object supporting remote method calls)</span>
<span class="sd">        virtRoot        virtual quantum ndoe (twisted object supporting remote method calls)</span>
<span class="sd">        myName          name of this node (string)</span>
<span class="sd">        classicalNet    servers in the classical communication network (dictionary of hosts)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;LOCAL </span><span class="si">%s</span><span class="s2">: Runing client side program.&quot;</span><span class="p">,</span><span class="n">myName</span><span class="p">)</span>

        <span class="c1">#Create 2 qubits</span>
        <span class="n">qA</span> <span class="o">=</span> <span class="k">yield</span> <span class="n">virtRoot</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;new_qubit_inreg&quot;</span><span class="p">,</span><span class="n">qReg</span><span class="p">)</span>
        <span class="n">qB</span> <span class="o">=</span> <span class="k">yield</span> <span class="n">virtRoot</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;new_qubit_inreg&quot;</span><span class="p">,</span><span class="n">qReg</span><span class="p">)</span>

        <span class="c1">#Make 2-qubit graph state</span>
        <span class="k">yield</span> <span class="n">qA</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;apply_H&quot;</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">qB</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;apply_H&quot;</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">qA</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;cphase_onto&quot;</span><span class="p">,</span><span class="n">qB</span><span class="p">)</span>

        <span class="c1">#send qubit B to Bob</span>
        <span class="c1">#instruct virtual node to transfer qubit</span>
        <span class="n">remoteNum</span> <span class="o">=</span> <span class="k">yield</span> <span class="n">virtRoot</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;send_qubit&quot;</span><span class="p">,</span><span class="n">qB</span><span class="p">,</span><span class="s2">&quot;Bob&quot;</span><span class="p">)</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;LOCAL </span><span class="si">%s</span><span class="s2">: Remote qubit is </span><span class="si">%d</span><span class="s2">.&quot;</span><span class="p">,</span><span class="n">myName</span><span class="p">,</span><span class="n">remoteNum</span><span class="p">)</span>

        <span class="c1">#Tell number of virtual qubit to Bob and receive measurement outcome parity</span>
        <span class="n">bob</span><span class="o">=</span><span class="n">classicalNet</span><span class="o">.</span><span class="n">hostDict</span><span class="p">[</span><span class="s2">&quot;Bob&quot;</span><span class="p">]</span>
        <span class="k">yield</span> <span class="n">bob</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;receive_qubit&quot;</span><span class="p">,</span><span class="n">remoteNum</span><span class="p">)</span>

        <span class="c1">#Measure qubit (X-basis)</span>
        <span class="k">yield</span> <span class="n">qA</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;apply_H&quot;</span><span class="p">)</span>
        <span class="n">outcome</span><span class="o">=</span><span class="k">yield</span> <span class="n">qA</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;measure&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Alice outcome was:&quot;</span><span class="p">,</span> <span class="n">outcome</span><span class="p">)</span>

        <span class="n">reactor</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="programming-bob">
<h2>Programming Bob<a class="headerlink" href="#programming-bob" title="Permalink to this headline">¶</a></h2>
<p>Let us now program the code for Bob. Since he only acts as a server on the classical network, it is enough to edit the localNode portion of the template. Alice calls receive_qubit to convey the identifier of the virtual qubit.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#####################################################################################################</span>
<span class="c1">#</span>
<span class="c1"># localNode</span>
<span class="c1">#</span>
<span class="c1"># This will be run if the local node acts as a server on the classical communication network,</span>
<span class="c1"># accepting remote method calls from the other nodes.</span>

<span class="k">class</span> <span class="nc">localNode</span><span class="p">(</span><span class="n">pb</span><span class="o">.</span><span class="n">Root</span><span class="p">):</span>

        <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">classicalNet</span><span class="p">):</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">node</span> <span class="o">=</span> <span class="n">node</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">classicalNet</span> <span class="o">=</span> <span class="n">classicalNet</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">virtRoot</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">qReg</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">def</span> <span class="nf">set_virtual_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">virtRoot</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">virtRoot</span> <span class="o">=</span> <span class="n">virtRoot</span>

        <span class="k">def</span> <span class="nf">set_virtual_reg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qReg</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">qReg</span> <span class="o">=</span> <span class="n">qReg</span>

        <span class="k">def</span> <span class="nf">remote_test</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="k">return</span> <span class="s2">&quot;Tested!&quot;</span>

        <span class="c1"># This can be called by Alice (or other clients on the classical network) to inform Bob</span>
        <span class="c1"># of an event.</span>
        <span class="nd">@inlineCallbacks</span>
        <span class="k">def</span> <span class="nf">remote_receive_qubit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">virtualNum</span><span class="p">):</span>

                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;LOCAL </span><span class="si">%s</span><span class="s2">: Getting reference to qubit number </span><span class="si">%d</span><span class="s2">.&quot;</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">virtualNum</span><span class="p">)</span>

                <span class="c1"># Get ref of qubit</span>
                <span class="n">qB</span><span class="o">=</span><span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">virtRoot</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;get_virtual_ref&quot;</span><span class="p">,</span><span class="n">virtualNum</span><span class="p">)</span>

                <span class="c1">#Create new qubit</span>
                <span class="n">qC</span><span class="o">=</span><span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">virtRoot</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;new_qubit_inreg&quot;</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">qReg</span><span class="p">)</span>

                <span class="c1">#Expand graph state</span>
                <span class="k">yield</span> <span class="n">qC</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;apply_H&quot;</span><span class="p">)</span>
                <span class="k">yield</span> <span class="n">qB</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;cphase_onto&quot;</span><span class="p">,</span><span class="n">qC</span><span class="p">)</span>

                <span class="c1">#Perform part of tau at C</span>
                <span class="k">yield</span> <span class="n">qB</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;apply_rotation&quot;</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>


                <span class="c1">#send qubit C to Charlie</span>
                <span class="c1">#instruct virtual node to transfer qubit</span>
                <span class="n">remoteNum</span> <span class="o">=</span> <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">virtRoot</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;send_qubit&quot;</span><span class="p">,</span><span class="n">qC</span><span class="p">,</span><span class="s2">&quot;Charlie&quot;</span><span class="p">)</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;LOCAL </span><span class="si">%s</span><span class="s2">: Remote qubit is </span><span class="si">%d</span><span class="s2">.&quot;</span><span class="p">,</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span><span class="n">remoteNum</span><span class="p">)</span>

                <span class="c1">#Tell number of virtual qubit to Charlie and receive measurement outcome parity</span>
                <span class="n">charlie</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">classicalNet</span><span class="o">.</span><span class="n">hostDict</span><span class="p">[</span><span class="s2">&quot;Charlie&quot;</span><span class="p">]</span>
                <span class="k">yield</span> <span class="n">charlie</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;receive_qubit&quot;</span><span class="p">,</span><span class="n">remoteNum</span><span class="p">,</span><span class="s2">&quot;Bob&quot;</span><span class="p">)</span>

                <span class="c1">#Measure qubit (Z-basis)</span>
                <span class="n">outcome</span><span class="o">=</span><span class="k">yield</span> <span class="n">qB</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;measure&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Bob outcome was:&quot;</span><span class="p">,</span> <span class="n">outcome</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="programming-charlie">
<h2>Programming Charlie<a class="headerlink" href="#programming-charlie" title="Permalink to this headline">¶</a></h2>
<p>Let us now program the code for Charlie. Since he only acts as a server on the classical network, it is enough to edit the localNode portion of the template. Both Bob and David calls receive_qubit to convey the identifier of the virtual qubit and depending on the sender Charlie does different things.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#####################################################################################################</span>
<span class="c1">#</span>
<span class="c1"># localNode</span>
<span class="c1">#</span>
<span class="c1"># This will be run if the local node acts as a server on the classical communication network,</span>
<span class="c1"># accepting remote method calls from the other nodes.</span>

<span class="k">class</span> <span class="nc">localNode</span><span class="p">(</span><span class="n">pb</span><span class="o">.</span><span class="n">Root</span><span class="p">):</span>

        <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">classicalNet</span><span class="p">):</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">node</span> <span class="o">=</span> <span class="n">node</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">classicalNet</span> <span class="o">=</span> <span class="n">classicalNet</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">virtRoot</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">qReg</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">qC</span> <span class="o">=</span> <span class="kc">None</span> <span class="c1">#Maybe not the indented way</span>

        <span class="k">def</span> <span class="nf">set_virtual_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">virtRoot</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">virtRoot</span> <span class="o">=</span> <span class="n">virtRoot</span>

        <span class="k">def</span> <span class="nf">set_virtual_reg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qReg</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">qReg</span> <span class="o">=</span> <span class="n">qReg</span>

        <span class="k">def</span> <span class="nf">remote_test</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="k">return</span> <span class="s2">&quot;Tested!&quot;</span>

        <span class="c1"># This can be called by Alice (or other clients on the classical network) to inform Bob</span>
        <span class="c1"># of an event.</span>
        <span class="nd">@inlineCallbacks</span>
        <span class="k">def</span> <span class="nf">remote_receive_qubit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">virtualNum</span><span class="p">,</span><span class="n">sender</span><span class="p">):</span>

                <span class="k">if</span> <span class="n">sender</span><span class="o">==</span><span class="s2">&quot;Bob&quot;</span><span class="p">:</span>

                        <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;LOCAL </span><span class="si">%s</span><span class="s2">: Getting reference to qubit number </span><span class="si">%d</span><span class="s2">.&quot;</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">virtualNum</span><span class="p">)</span>

                        <span class="c1"># Get ref of qubit</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">qC</span><span class="o">=</span><span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">virtRoot</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;get_virtual_ref&quot;</span><span class="p">,</span><span class="n">virtualNum</span><span class="p">)</span>
                        <span class="n">qC</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">qC</span>

                        <span class="c1">#Create new qubit</span>
                        <span class="n">qD</span><span class="o">=</span><span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">virtRoot</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;new_qubit_inreg&quot;</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">qReg</span><span class="p">)</span>

                        <span class="c1">#Expand graph state</span>
                        <span class="k">yield</span> <span class="n">qD</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;apply_H&quot;</span><span class="p">)</span>
                        <span class="k">yield</span> <span class="n">qC</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;cphase_onto&quot;</span><span class="p">,</span><span class="n">qD</span><span class="p">)</span>

                        <span class="c1">#Perform part of tau at C</span>
                        <span class="k">yield</span> <span class="n">qC</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;apply_rotation&quot;</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
                        <span class="k">yield</span> <span class="n">qD</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;apply_rotation&quot;</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>

                        <span class="c1"># tmp=yield self.virtRoot.callRemote(&quot;get_register&quot;,qC)</span>
                        <span class="c1"># np.save(&quot;data_R&quot;,tmp[0])</span>
                        <span class="c1"># np.save(&quot;data_I&quot;,tmp[1])</span>

                        <span class="c1">#send qubit D to David</span>
                        <span class="c1">#instruct virtual node to transfer qubit</span>
                        <span class="n">remoteNum</span> <span class="o">=</span> <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">virtRoot</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;send_qubit&quot;</span><span class="p">,</span><span class="n">qD</span><span class="p">,</span><span class="s2">&quot;David&quot;</span><span class="p">)</span>
                        <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;LOCAL </span><span class="si">%s</span><span class="s2">: Remote qubit is </span><span class="si">%d</span><span class="s2">.&quot;</span><span class="p">,</span><span class="s2">&quot;Charlie&quot;</span><span class="p">,</span><span class="n">remoteNum</span><span class="p">)</span>

                        <span class="c1">#Tell number of virtual qubit to Charlie and receive measurement outcome parity</span>
                        <span class="n">david</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">classicalNet</span><span class="o">.</span><span class="n">hostDict</span><span class="p">[</span><span class="s2">&quot;David&quot;</span><span class="p">]</span>
                        <span class="k">yield</span> <span class="n">david</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;receive_qubit&quot;</span><span class="p">,</span><span class="n">remoteNum</span><span class="p">)</span>

                        <span class="c1">#Measure qubit (X-basis)</span>
                        <span class="k">yield</span> <span class="n">qC</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;apply_H&quot;</span><span class="p">)</span>
                        <span class="n">outcome</span><span class="o">=</span><span class="k">yield</span> <span class="n">qC</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;measure&quot;</span><span class="p">)</span>
                        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Charlie outcome was:&quot;</span><span class="p">,</span> <span class="n">outcome</span><span class="p">)</span>

                <span class="k">elif</span> <span class="n">sender</span><span class="o">==</span><span class="s2">&quot;David&quot;</span><span class="p">:</span>

                        <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;LOCAL </span><span class="si">%s</span><span class="s2">: Getting reference to qubit number </span><span class="si">%d</span><span class="s2">.&quot;</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">virtualNum</span><span class="p">)</span>

                        <span class="c1"># Get ref of qubit</span>
                        <span class="n">qE</span><span class="o">=</span><span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">virtRoot</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;get_virtual_ref&quot;</span><span class="p">,</span><span class="n">virtualNum</span><span class="p">)</span>
                        <span class="n">qC</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">qC</span>

                        <span class="c1"># Expand graph state</span>
                        <span class="k">yield</span> <span class="n">qE</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;cphase_onto&quot;</span><span class="p">,</span><span class="n">qC</span><span class="p">)</span>

                        <span class="c1">#Do local part of tau</span>
                        <span class="k">yield</span> <span class="n">qE</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;apply_rotation&quot;</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
                        <span class="k">yield</span> <span class="n">qC</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;apply_rotation&quot;</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>

                        <span class="c1">#Measure extra qubit (Z-basis)</span>
                        <span class="n">m</span><span class="o">=</span><span class="k">yield</span> <span class="n">qE</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;measure&quot;</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">m</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
                                <span class="k">yield</span> <span class="n">qC</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;apply_Z&quot;</span><span class="p">)</span>
                        <span class="k">return</span> <span class="n">m</span>
</pre></div>
</div>
</div>
<div class="section" id="programming-david">
<h2>Programming David<a class="headerlink" href="#programming-david" title="Permalink to this headline">¶</a></h2>
<p>Let us now program the code for David. Since he only acts as a server on the classical network, it is enough to edit the localNode portion of the template. Charlie calls receive_qubit to convey the identifier of the virtual qubit.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#####################################################################################################</span>
<span class="c1">#</span>
<span class="c1"># localNode</span>
<span class="c1">#</span>
<span class="c1"># This will be run if the local node acts as a server on the classical communication network,</span>
<span class="c1"># accepting remote method calls from the other nodes.</span>

<span class="k">class</span> <span class="nc">localNode</span><span class="p">(</span><span class="n">pb</span><span class="o">.</span><span class="n">Root</span><span class="p">):</span>

        <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">classicalNet</span><span class="p">):</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">node</span> <span class="o">=</span> <span class="n">node</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">classicalNet</span> <span class="o">=</span> <span class="n">classicalNet</span>

                <span class="bp">self</span><span class="o">.</span><span class="n">virtRoot</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">qReg</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">def</span> <span class="nf">set_virtual_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">virtRoot</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">virtRoot</span> <span class="o">=</span> <span class="n">virtRoot</span>

        <span class="k">def</span> <span class="nf">set_virtual_reg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">qReg</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">qReg</span> <span class="o">=</span> <span class="n">qReg</span>

        <span class="k">def</span> <span class="nf">remote_test</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
                <span class="k">return</span> <span class="s2">&quot;Tested!&quot;</span>

        <span class="c1"># This can be called by Alice (or other clients on the classical network) to inform Bob</span>
        <span class="c1"># of an event.</span>
        <span class="nd">@inlineCallbacks</span>
        <span class="k">def</span> <span class="nf">remote_receive_qubit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">virtualNum</span><span class="p">):</span>

                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;LOCAL </span><span class="si">%s</span><span class="s2">: Getting reference to qubit number </span><span class="si">%d</span><span class="s2">.&quot;</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">virtualNum</span><span class="p">)</span>

                <span class="c1"># Get ref of qubit</span>
                <span class="n">qD</span><span class="o">=</span><span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">virtRoot</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;get_virtual_ref&quot;</span><span class="p">,</span><span class="n">virtualNum</span><span class="p">)</span>

                <span class="c1">#Create new qubit</span>
                <span class="n">qE</span><span class="o">=</span><span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">virtRoot</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;new_qubit_inreg&quot;</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">qReg</span><span class="p">)</span>

                <span class="c1">#Expand graph state</span>
                <span class="k">yield</span> <span class="n">qE</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;apply_H&quot;</span><span class="p">)</span>
                <span class="k">yield</span> <span class="n">qD</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;cphase_onto&quot;</span><span class="p">,</span><span class="n">qE</span><span class="p">)</span>

                <span class="c1">#send qubit E to Charlie</span>
                <span class="c1">#instruct virtual node to transfer qubit</span>
                <span class="n">remoteNum</span> <span class="o">=</span> <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">virtRoot</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;send_qubit&quot;</span><span class="p">,</span><span class="n">qE</span><span class="p">,</span><span class="s2">&quot;Charlie&quot;</span><span class="p">)</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;LOCAL </span><span class="si">%s</span><span class="s2">: Remote qubit is </span><span class="si">%d</span><span class="s2">.&quot;</span><span class="p">,</span><span class="s2">&quot;David&quot;</span><span class="p">,</span><span class="n">remoteNum</span><span class="p">)</span>

                <span class="c1">#Tell number of virtual qubit to Charlie and receive meas outcome</span>
                <span class="n">charlie</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">classicalNet</span><span class="o">.</span><span class="n">hostDict</span><span class="p">[</span><span class="s2">&quot;Charlie&quot;</span><span class="p">]</span>
                <span class="n">m</span><span class="o">=</span><span class="k">yield</span> <span class="n">charlie</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;receive_qubit&quot;</span><span class="p">,</span><span class="n">remoteNum</span><span class="p">,</span><span class="s2">&quot;David&quot;</span><span class="p">)</span>

                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;LOCAL </span><span class="si">%s</span><span class="s2">: Got outcome </span><span class="si">%d</span><span class="s2">.&quot;</span><span class="p">,</span><span class="s2">&quot;David&quot;</span><span class="p">,</span><span class="n">m</span><span class="p">)</span>
                <span class="k">yield</span> <span class="n">qD</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;apply_rotation&quot;</span><span class="p">,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">m</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
                        <span class="k">yield</span> <span class="n">qD</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;apply_Z&quot;</span><span class="p">)</span>

                <span class="c1">#Measure qubit (X-basis)</span>
                <span class="c1"># tmp=yield self.virtRoot.callRemote(&quot;get_register&quot;,qD)</span>
                <span class="c1"># np.save(&quot;data_R&quot;,tmp[0])</span>
                <span class="c1"># np.save(&quot;data_I&quot;,tmp[1])</span>
                <span class="k">yield</span> <span class="n">qD</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;apply_H&quot;</span><span class="p">)</span>
                <span class="n">outcome</span><span class="o">=</span><span class="k">yield</span> <span class="n">qD</span><span class="o">.</span><span class="n">callRemote</span><span class="p">(</span><span class="s2">&quot;measure&quot;</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Davids outcome was:&quot;</span><span class="p">,</span> <span class="n">outcome</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="starting">
<h2>Starting<a class="headerlink" href="#starting" title="Permalink to this headline">¶</a></h2>
<p>We first start the virtual quantum node backend, by executing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="s2">&quot;$NETSIM&quot;</span><span class="o">/</span><span class="n">run</span>
<span class="n">python</span> <span class="n">startNode</span><span class="o">.</span><span class="n">py</span> <span class="n">Alice</span> <span class="o">&amp;</span>
<span class="n">python</span> <span class="n">startNode</span><span class="o">.</span><span class="n">py</span> <span class="n">Bob</span> <span class="o">&amp;</span>
<span class="n">python</span> <span class="n">startNode</span><span class="o">.</span><span class="n">py</span> <span class="n">David</span> <span class="o">&amp;</span>
<span class="n">python</span> <span class="n">startNode</span><span class="o">.</span><span class="n">py</span> <span class="n">Charlie</span> <span class="o">&amp;</span>
</pre></div>
</div>
<p>where $NETSIM is the environment variable defining the SimulaQron directory as outlined in <a class="reference internal" href="GettingStarted.html"><span class="doc">Getting started</span></a>.</p>
<p>We then start up the programs for the parties themselves. These will connect to the virtual quantum nodes, and execute the quantum commands and classical communication outlined above, in the same directory as we placed classicalNet.cfg:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">bobTest</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span>
<span class="n">python</span> <span class="n">charlieTest</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span>
<span class="n">python</span> <span class="n">davidTest</span><span class="o">.</span><span class="n">py</span> <span class="o">&amp;</span>
<span class="n">python</span> <span class="n">aliceTest</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ExamplesNodeOS.html" title="Programming via the Classical-Quantum Combiner Interface"
             >next</a> |</li>
        <li class="right" >
          <a href="NativeModeTeleport.html" title="Teleporting a Qubit"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">SimulaQron 1.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="Examples.html" >Examples</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="ExamplesDirect.html" >Programming via SimulaQron’s native Python Twisted Interface (specific to SimulaQron)</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Stephanie Wehner and Axel Dahlberg.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.1.
    </div>
  </body>
</html>